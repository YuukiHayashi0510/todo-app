{"name":"project_db","desc":"","tables":[{"name":"public.organizations","type":"BASE TABLE","comment":"","columns":[{"name":"organization_id","type":"bigint","nullable":false,"default":"nextval('organizations_organization_id_seq'::regclass)","comment":""},{"name":"organization_name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"organizations_pkey","def":"CREATE UNIQUE INDEX organizations_pkey ON public.organizations USING btree (organization_id)","table":"public.organizations","columns":["organization_id"],"comment":""}],"constraints":[{"name":"organizations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (organization_id)","table":"public.organizations","referenced_table":"","columns":["organization_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.staffs","type":"BASE TABLE","comment":"","columns":[{"name":"staff_id","type":"bigint","nullable":false,"default":"nextval('staffs_staff_id_seq'::regclass)","comment":""},{"name":"organization_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"email","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"staff_name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"staffs_pkey","def":"CREATE UNIQUE INDEX staffs_pkey ON public.staffs USING btree (staff_id)","table":"public.staffs","columns":["staff_id"],"comment":""},{"name":"idx_org_email","def":"CREATE UNIQUE INDEX idx_org_email ON public.staffs USING btree (organization_id, email)","table":"public.staffs","columns":["organization_id","email"],"comment":""}],"constraints":[{"name":"staffs_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (staff_id)","table":"public.staffs","referenced_table":"","columns":["staff_id"],"referenced_columns":[],"comment":""},{"name":"idx_org_email","type":"UNIQUE","def":"UNIQUE (organization_id, email)","table":"public.staffs","referenced_table":"","columns":["organization_id","email"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.staff_sessions","type":"BASE TABLE","comment":"","columns":[{"name":"session_id","type":"bigint","nullable":false,"default":"nextval('staff_sessions_session_id_seq'::regclass)","comment":""},{"name":"staff_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"session_data","type":"text","nullable":true,"default":null,"comment":""},{"name":"expires_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""}],"indexes":[{"name":"staff_sessions_pkey","def":"CREATE UNIQUE INDEX staff_sessions_pkey ON public.staff_sessions USING btree (session_id)","table":"public.staff_sessions","columns":["session_id"],"comment":""}],"constraints":[{"name":"staff_sessions_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (session_id)","table":"public.staff_sessions","referenced_table":"","columns":["session_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.projects","type":"BASE TABLE","comment":"","columns":[{"name":"project_id","type":"bigint","nullable":false,"default":"nextval('projects_project_id_seq'::regclass)","comment":""},{"name":"organization_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"project_name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"description","type":"text","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"projects_pkey","def":"CREATE UNIQUE INDEX projects_pkey ON public.projects USING btree (project_id)","table":"public.projects","columns":["project_id"],"comment":""}],"constraints":[{"name":"projects_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (project_id)","table":"public.projects","referenced_table":"","columns":["project_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.tasks","type":"BASE TABLE","comment":"","columns":[{"name":"task_id","type":"bigint","nullable":false,"default":"nextval('tasks_task_id_seq'::regclass)","comment":""},{"name":"project_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"title","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"description","type":"text","nullable":true,"default":null,"comment":""},{"name":"status","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"tasks_pkey","def":"CREATE UNIQUE INDEX tasks_pkey ON public.tasks USING btree (task_id)","table":"public.tasks","columns":["task_id"],"comment":""}],"constraints":[{"name":"tasks_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (task_id)","table":"public.tasks","referenced_table":"","columns":["task_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.roles","type":"BASE TABLE","comment":"","columns":[{"name":"role_id","type":"bigint","nullable":false,"default":"nextval('roles_role_id_seq'::regclass)","comment":""},{"name":"role_name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"roles_pkey","def":"CREATE UNIQUE INDEX roles_pkey ON public.roles USING btree (role_id)","table":"public.roles","columns":["role_id"],"comment":""}],"constraints":[{"name":"roles_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (role_id)","table":"public.roles","referenced_table":"","columns":["role_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.features","type":"BASE TABLE","comment":"","columns":[{"name":"feature_id","type":"bigint","nullable":false,"default":"nextval('features_feature_id_seq'::regclass)","comment":""},{"name":"feature_name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"operation","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"description","type":"text","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"features_pkey","def":"CREATE UNIQUE INDEX features_pkey ON public.features USING btree (feature_id)","table":"public.features","columns":["feature_id"],"comment":""}],"constraints":[{"name":"features_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (feature_id)","table":"public.features","referenced_table":"","columns":["feature_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.role_features","type":"BASE TABLE","comment":"","columns":[{"name":"role_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"feature_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""}],"indexes":[{"name":"role_features_pkey","def":"CREATE UNIQUE INDEX role_features_pkey ON public.role_features USING btree (role_id, feature_id)","table":"public.role_features","columns":["role_id","feature_id"],"comment":""}],"constraints":[{"name":"role_features_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (role_id, feature_id)","table":"public.role_features","referenced_table":"","columns":["role_id","feature_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.project_members","type":"BASE TABLE","comment":"","columns":[{"name":"project_member_id","type":"bigint","nullable":false,"default":"nextval('project_members_project_member_id_seq'::regclass)","comment":""},{"name":"project_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"staff_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"role_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"project_members_pkey","def":"CREATE UNIQUE INDEX project_members_pkey ON public.project_members USING btree (project_member_id)","table":"public.project_members","columns":["project_member_id"],"comment":""},{"name":"idx_project_staff","def":"CREATE UNIQUE INDEX idx_project_staff ON public.project_members USING btree (project_id, staff_id)","table":"public.project_members","columns":["project_id","staff_id"],"comment":""}],"constraints":[{"name":"project_members_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (project_member_id)","table":"public.project_members","referenced_table":"","columns":["project_member_id"],"referenced_columns":[],"comment":""},{"name":"idx_project_staff","type":"UNIQUE","def":"UNIQUE (project_id, staff_id)","table":"public.project_members","referenced_table":"","columns":["project_id","staff_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.schema_migrations","type":"BASE TABLE","comment":"","columns":[{"name":"version","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"dirty","type":"boolean","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"schema_migrations_pkey","def":"CREATE UNIQUE INDEX schema_migrations_pkey ON public.schema_migrations USING btree (version)","table":"public.schema_migrations","columns":["version"],"comment":""}],"constraints":[{"name":"schema_migrations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (version)","table":"public.schema_migrations","referenced_table":"","columns":["version"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[{"table":"public.staffs","columns":["organization_id"],"cardinality":"Zero or more","parent_table":"public.organizations","parent_columns":["organization_id"],"parent_cardinality":"Exactly one","def":"Additional Relation","virtual":true},{"table":"public.staff_sessions","columns":["staff_id"],"cardinality":"Zero or more","parent_table":"public.staffs","parent_columns":["staff_id"],"parent_cardinality":"Exactly one","def":"Additional Relation","virtual":true}],"functions":[],"driver":{"name":"postgres","database_version":"PostgreSQL 14.6 (Debian 14.6-1.pgdg110+1) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit","meta":{"current_schema":"public","search_paths":["project_user","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
